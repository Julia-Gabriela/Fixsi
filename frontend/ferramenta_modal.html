{% extends 'base.html' %}
{% load static %}

{% block title %}Aluguel de Ferramenta{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/modal_profissionais.css' %}">
<style>
    .rental-form {
        margin-top: 25px;
        padding: 20px;
        border: 1px solid var(--light-gray);
        border-radius: 10px;
        background-color: var(--light-gray-bg);
    }
    .rental-form label {
        font-weight: 500;
        display: block;
        margin-top: 10px;
    }
    .rental-form input {
        width: 100%;
        padding: 8px;
        margin-top: 5px;
        border: 1px solid #ccc;
        border-radius: 6px;
    }
    .rental-form button {
        margin-top: 20px;
        width: 100%;
        background-color: var(--orange);
        color: var(--white);
        border: none;
        padding: 10px;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: opacity 0.3s;
    }
    .rental-form button:hover {
        opacity: 0.9;
    }
</style>
{% endblock %}

{% block content %}
<div class="modal-container-page">
    <div class="modal-window wide-modal">
        <a href="{% url 'servicos' %}?q=makita" class="modal-close-btn">&times;</a>
        
        <h3>{{ tool.nome }}</h3>

        <div class="professional-list">
            <div class="professional-card">
                <div class="prof-info">
                    <div class="prof-avatar-wrapper">
                        <img src="https://images.pexels.com/photos/1709002/pexels-photo-1709002.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop"
                             alt="{{ tool.nome }}" class="prof-avatar">
                    </div>
                    <div>
                        <span class="prof-name">{{ tool.nome }}</span>
                        <p style="color: var(--text-gray); font-size: 0.9rem;">{{ tool.descricao }}</p>
                        <p><strong>{{ tool.valor }}</strong></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Formulário de Aluguel -->
        <form method="POST" class="rental-form">
            {% csrf_token %}
            <label for="nome_cliente">Nome:</label>
            <input type="text" id="nome_cliente" name="nome_cliente"
                   value="{{ perfil.user.get_full_name|default:perfil.user.username|default:'' }}"
                   placeholder="Seu nome">

            <label for="data_retirada">Data de Retirada:</label>
            <input type="date" id="data_retirada" name="data_retirada" min="{{ hoje }}">

            <label for="data_devolucao">Data de Devolução:</label>
            <input type="date" id="data_devolucao" name="data_devolucao" min="{{ hoje }}">

            <button type="submit">Confirmar Aluguel</button>
        </form>

    </div>
</div>
{% endblock %}
